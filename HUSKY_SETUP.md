# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Husky + lint-staged

## üìù –©–æ –≤–∂–µ –∑—Ä–æ–±–ª–µ–Ω–æ

1. ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ `package.json` –∑ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é
2. ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ `.vscode/settings.json` –¥–ª—è –∞–≤—Ç–æ—Ñ—ñ–∫—Å—É –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ

## üöÄ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è (3 –∫–æ–º–∞–Ω–¥–∏)

### –ö—Ä–æ–∫ 1: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –ø–∞–∫–µ—Ç–∏
```bash
yarn add -D husky lint-staged
```

### –ö—Ä–æ–∫ 2: –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ Husky
```bash
npx husky install
```

–°—Ç–≤–æ—Ä–∏—Ç—å –ø–∞–ø–∫—É `.husky/` –∑ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é.

### –ö—Ä–æ–∫ 3: –î–æ–¥–∞—Ç–∏ pre-commit hook
```bash
npx husky add .husky/pre-commit "npx lint-staged"
```

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

–ó—Ä–æ–±–∏ —Ç–µ—Å—Ç–æ–≤–∏–π commit:

```bash
git add .
git commit -m "test: husky setup"
```

–ü–æ–±–∞—á–∏—à:
```
‚úî Preparing lint-staged...
‚úî Running tasks for staged files...
‚úî Applying modifications from tasks...
‚úî Cleaning up temporary files...
```

## üéØ –©–æ —Ç–µ–ø–µ—Ä –ø—Ä–∞—Ü—é—î

### –ü—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ —Ñ–∞–π–ª—É (Ctrl+S):
- ‚úÖ Prettier —Ñ–æ—Ä–º–∞—Ç—É—î –∫–æ–¥
- ‚úÖ ESLint –≤–∏–ø—Ä–∞–≤–ª—è—î –ø–æ–º–∏–ª–∫–∏
- **–ü—Ä–∞—Ü—é—î –ó–ê–†–ê–ó** (–Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –≤ `.vscode/settings.json`)

### –ü–µ—Ä–µ–¥ Git commit:
- ‚úÖ ESLint –ø–µ—Ä–µ–≤—ñ—Ä—è—î –≤—Å—ñ –∑–º—ñ–Ω–µ–Ω—ñ —Ñ–∞–π–ª–∏
- ‚úÖ Prettier —Ñ–æ—Ä–º–∞—Ç—É—î –≤—Å—ñ –∑–º—ñ–Ω–µ–Ω—ñ —Ñ–∞–π–ª–∏
- ‚úÖ –Ø–∫—â–æ —î –ø–æ–º–∏–ª–∫–∏ ‚Üí commit –±–ª–æ–∫—É—î—Ç—å—Å—è
- **–ü—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Husky**

## üõ†Ô∏è –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—Å—ñ —Ñ–∞–π–ª–∏
yarn lint

# –í–∏–ø—Ä–∞–≤–∏—Ç–∏ –≤—Å—ñ —Ñ–∞–π–ª–∏ –≤—Ä—É—á–Ω—É
yarn lint:fix

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ç–∏–ø–∏
yarn typecheck
```

## üîç –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### package.json (–≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ)
```json
{
  "scripts": {
    "prepare": "husky install"
  },
  "lint-staged": {
    "*.{ts,tsx,js,jsx}": [
      "eslint --fix",
      "prettier --write"
    ],
    "*.{json,md,yml,yaml}": [
      "prettier --write"
    ]
  }
}
```

### .vscode/settings.json (–≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ)
```json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "explicit"
  }
}
```

## üí° –Ø–∫—â–æ —â–æ—Å—å –Ω–µ –ø—Ä–∞—Ü—é—î

### Husky –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è:
```bash
# –ü–µ—Ä–µ—ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–π
rm -rf .husky
npx husky install
npx husky add .husky/pre-commit "npx lint-staged"
```

### ESLint –Ω–µ –∞–≤—Ç–æ—Ñ—ñ–∫—Å–∏—Ç—å –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ:
1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ VS Code
2. –ü–µ—Ä–µ–≤—ñ—Ä —â–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ extension **ESLint** by Microsoft
3. –í—ñ–¥–∫—Ä–∏–π Output ‚Üí ESLint - –ø–µ—Ä–µ–≤—ñ—Ä —á–∏ –Ω–µ–º–∞—î –ø–æ–º–∏–ª–æ–∫

### Commit –±–ª–æ–∫—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ –ø–æ–º–∏–ª–∫–∏:
```bash
# –ü–æ–¥–∏–≤–∏—Å—å –ø–æ–º–∏–ª–∫–∏
yarn lint

# –í–∏–ø—Ä–∞–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
yarn lint:fix

# –ê–±–æ –ø—Ä–æ–ø—É—Å—Ç–∏ hook (–ù–ï –†–ï–ö–û–ú–ï–ù–î–û–í–ê–ù–û)
git commit --no-verify -m "message"
```

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è:
1. **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—É** ‚Üí –∞–≤—Ç–æ—Ñ—ñ–∫—Å ‚úÖ
2. **Git commit** ‚Üí –∞–≤—Ç–æ—Ñ—ñ–∫—Å + –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ ‚úÖ
3. –ù—ñ–∫–æ–ª–∏ –±—ñ–ª—å—à–µ `yarn lint --fix` –≤—Ä—É—á–Ω—É!
